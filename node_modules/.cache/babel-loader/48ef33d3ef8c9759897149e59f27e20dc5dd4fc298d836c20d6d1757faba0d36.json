{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"recipe-search\"\n};\nconst _hoisted_2 = {\n  class: \"search-input\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading-message\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"error-message\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"recipe-list\"\n};\nconst _hoisted_6 = {\n  key: 3,\n  class: \"no-results-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RecipeCard = _resolveComponent(\"RecipeCard\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"What ingredients do you have?\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.ingredientInput = $event),\n    onKeyup: _cache[1] || (_cache[1] = _withKeys((...args) => $options.searchRecipes && $options.searchRecipes(...args), [\"enter\"])),\n    placeholder: \"e.g., chicken, rice, onion\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.ingredientInput]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.searchRecipes && $options.searchRecipes(...args))\n  }, \"Find Recipes\")]), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \" Loading recipes... \")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.recipes.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.recipes, recipe => {\n    return _openBlock(), _createBlock(_component_RecipeCard, {\n      key: recipe.id,\n      recipe: recipe\n    }, null, 8 /* PROPS */, [\"recipe\"]);\n  }), 128 /* KEYED_FRAGMENT */))])) : !$data.loading && $data.searched ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" No recipes found with those ingredients. Try different ones! \")) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","$data","ingredientInput","$event","onKeyup","_cache","_withKeys","args","$options","searchRecipes","placeholder","onClick","loading","_hoisted_3","error","_hoisted_4","_toDisplayString","recipes","length","_hoisted_5","_Fragment","_renderList","recipe","_createBlock","_component_RecipeCard","key","id","searched","_hoisted_6"],"sources":["/Users/srdemorais/Sandbox/dinner-time/srdemorais/dinner_time/recipe_frontend/src/components/RecipeSearch.vue"],"sourcesContent":["<template>\n  <div class=\"recipe-search\">\n    <h2>What ingredients do you have?</h2>\n    <div class=\"search-input\">\n      <input\n        type=\"text\"\n        v-model=\"ingredientInput\"\n        @keyup.enter=\"searchRecipes\"\n        placeholder=\"e.g., chicken, rice, onion\"\n      />\n      <button @click=\"searchRecipes\">Find Recipes</button>\n    </div>\n\n    <div v-if=\"loading\" class=\"loading-message\">\n      Loading recipes...\n    </div>\n\n    <div v-if=\"error\" class=\"error-message\">\n      {{ error }}\n    </div>\n\n    <div v-if=\"recipes.length > 0\" class=\"recipe-list\">\n      <RecipeCard v-for=\"recipe in recipes\" :key=\"recipe.id\" :recipe=\"recipe\" />\n    </div>\n    <div v-else-if=\"!loading && searched\" class=\"no-results-message\">\n      No recipes found with those ingredients. Try different ones!\n    </div>\n  </div>\n</template>\n\n<script>\nimport RecipeCard from './RecipeCard.vue';\nimport axios from 'axios'; // Import axios\n\nexport default {\n  name: 'RecipeSearch',\n  components: {\n    RecipeCard\n  },\n  data() {\n    return {\n      ingredientInput: '',\n      recipes: [],\n      loading: false,\n      searched: false,\n      error: null // To store any API error messages\n    };\n  },\n  methods: {\n    async searchRecipes() { // Make this method async\n      this.loading = true;\n      this.searched = true;\n      this.error = null; // Clear previous errors\n\n      try {\n        const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/recipes`, {\n          params: {\n            ingredients: this.ingredientInput // Send ingredientInput as 'ingredients' query parameter\n          }\n        });\n        this.recipes = response.data; // Assign the fetched data to recipes\n      } catch (err) {\n        console.error('Error fetching recipes:', err);\n        this.error = 'Failed to fetch recipes. Please try again later.';\n        this.recipes = []; // Clear recipes on error\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.recipe-search {\n  padding: 20px;\n}\n\n.search-input {\n  margin-bottom: 30px;\n}\n\n.search-input input {\n  width: 70%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  margin-right: 10px;\n  font-size: 16px;\n}\n\n.search-input button {\n  padding: 10px 20px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.search-input button:hover {\n  background-color: #368a68;\n}\n\n.loading-message, .no-results-message {\n  margin-top: 20px;\n  font-style: italic;\n  color: #666;\n}\n\n.recipe-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-top: 20px;\n}\n\n.error-message {\n  margin-top: 20px;\n  color: #d32f2f; /* Red color for errors */\n  font-weight: bold;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EAEnBA,KAAK,EAAC;AAAc;;;EAULA,KAAK,EAAC;;;;EAIRA,KAAK,EAAC;;;;EAIOA,KAAK,EAAC;;;;EAGCA,KAAK,EAAC;;;;uBAvB9CC,mBAAA,CA0BM,OA1BNC,UA0BM,G,0BAzBJC,mBAAA,CAAsC,YAAlC,+BAA6B,qBACjCA,mBAAA,CAQM,OARNC,UAQM,G,gBAPJD,mBAAA,CAKE;IAJAE,IAAI,EAAC,MAAM;+DACFC,KAAA,CAAAC,eAAe,GAAAC,MAAA;IACvBC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,SAAA,KAAAC,IAAA,KAAQC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;IAC3BG,WAAW,EAAC;iEAFHT,KAAA,CAAAC,eAAe,E,GAI1BJ,mBAAA,CAAoD;IAA3Ca,OAAK,EAAAN,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAC,aAAA,IAAAD,QAAA,CAAAC,aAAA,IAAAF,IAAA,CAAa;KAAE,cAAY,E,GAGlCN,KAAA,CAAAW,OAAO,I,cAAlBhB,mBAAA,CAEM,OAFNiB,UAEM,EAFsC,sBAE5C,K,mCAEWZ,KAAA,CAAAa,KAAK,I,cAAhBlB,mBAAA,CAEM,OAFNmB,UAEM,EAAAC,gBAAA,CADDf,KAAA,CAAAa,KAAK,oB,mCAGCb,KAAA,CAAAgB,OAAO,CAACC,MAAM,Q,cAAzBtB,mBAAA,CAEM,OAFNuB,UAEM,I,kBADJvB,mBAAA,CAA0EwB,SAAA,QAAAC,WAAA,CAA7CpB,KAAA,CAAAgB,OAAO,EAAjBK,MAAM;yBAAzBC,YAAA,CAA0EC,qBAAA;MAAnCC,GAAG,EAAEH,MAAM,CAACI,EAAE;MAAGJ,MAAM,EAAEA;;uCAEjDrB,KAAA,CAAAW,OAAO,IAAIX,KAAA,CAAA0B,QAAQ,I,cAApC/B,mBAAA,CAEM,OAFNgC,UAEM,EAF2D,gEAEjE,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}